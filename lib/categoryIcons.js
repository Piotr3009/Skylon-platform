// Category icons - same as homepage
export const CATEGORY_ICONS = {
  demolition: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M4 20h16" />
      <path d="M6 20v-6l5-5 4 4-5 5" />
      <path d="M14 10l3-3 2 2-3 3" />
    </svg>
  ),
  groundworks: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M3 17h18" />
      <path d="M6 13l3-8h6l3 8" />
      <path d="M9 13l1.5-4h3L15 13" />
    </svg>
  ),
  structural: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M6 3v18" />
      <path d="M18 3v18" />
      <path d="M6 9h12" />
      <path d="M6 15h12" />
    </svg>
  ),
  external: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <rect x="3" y="3" width="18" height="18" rx="2" />
      <path d="M3 9h18" />
      <path d="M3 15h18" />
    </svg>
  ),
  roofing: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M3 12l9-9 9 9" />
      <path d="M5 10v10h14V10" />
    </svg>
  ),
  joinery: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <rect x="5" y="2" width="14" height="20" rx="2" />
      <circle cx="16" cy="12" r="1" fill="currentColor" />
    </svg>
  ),
  internal: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <rect x="8" y="3" width="8" height="18" />
      <path d="M8 8h8" />
      <path d="M8 13h8" />
    </svg>
  ),
  carpentry: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M4 6h16v4H4z" />
      <path d="M6 10v8" />
      <path d="M18 10v8" />
      <path d="M9 10v8" />
      <path d="M15 10v8" />
    </svg>
  ),
  plumbing: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M12 2v20" />
      <path d="M8 6h8" />
      <path d="M8 10h8" />
      <path d="M8 14h8" />
      <path d="M8 18h8" />
    </svg>
  ),
  electrical: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M13 2L4 14h6l-1 8 9-12h-6z" />
    </svg>
  ),
  mechanical: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <circle cx="12" cy="12" r="3" />
      <path d="M12 5V3" />
      <path d="M12 21v-2" />
      <path d="M5 12H3" />
      <path d="M21 12h-2" />
      <path d="M6.8 6.8l-1.4-1.4" />
      <path d="M18.6 19.4l-1.4-1.4" />
      <path d="M17.2 6.8l1.4-1.4" />
      <path d="M5.4 19.4l1.4-1.4" />
    </svg>
  ),
  plastering: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M4 4h12v6H4z" />
      <path d="M9 10v10" />
      <path d="M6 20h6" />
      <path d="M16 4l4 4-4 4" />
    </svg>
  ),
  flooring: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <rect x="3" y="8" width="18" height="4" />
      <rect x="3" y="14" width="18" height="4" />
    </svg>
  ),
  finishing: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M4 4h12v6H4z" />
      <path d="M9 10v10" />
      <path d="M6 20h6" />
      <path d="M16 4l4 4-4 4" />
    </svg>
  ),
  specialist: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M12 2c-1.2 2.5-2 4.5-2 7 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.5-.8-4.5-2-7" />
      <path d="M9 14h6" />
      <path d="M12 14v8" />
      <path d="M8 22h8" />
    </svg>
  ),
  default: (props) => (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.6" strokeLinecap="round" strokeLinejoin="round" {...props}>
      <path d="M4 7h16" />
      <path d="M4 12h16" />
      <path d="M4 17h10" />
    </svg>
  )
}

export const getCategoryIcon = (categoryName = '') => {
  const normalized = categoryName.toLowerCase()

  const keywords = {
    demolition: ['demolition', 'site clearance', 'strip', 'clearance'],
    groundworks: ['groundworks', 'foundations', 'ground', 'foundation', 'excavation'],
    structural: ['structural frame', 'steelwork', 'steel', 'metal', 'structural'],
    external: ['external walls', 'cladding', 'facade', 'curtain wall'],
    roofing: ['roofing', 'roof', 'waterproof', 'loft'],
    joinery: ['joinery installation', 'joinery', 'doors', 'windows'],
    internal: ['internal walls', 'partitions', 'partition', 'wall', 'drywall', 'stud'],
    carpentry: ['carpentry works', 'carpentry', 'timber', 'wood'],
    plumbing: ['plumbing', 'drainage', 'water', 'pipes'],
    electrical: ['electrical', 'installation', 'lighting', 'power'],
    mechanical: ['mechanical', 'hvac', 'ac', 'vrf', 'vent'],
    plastering: ['plastering', 'drylining', 'plaster', 'dry lining'],
    flooring: ['flooring', 'floor', 'screed', 'tiles'],
    finishing: ['finishing', 'paint', 'decor', 'decoration'],
    specialist: ['specialist', 'systems', 'fire', 'security']
  }

  for (const [key, terms] of Object.entries(keywords)) {
    if (terms.some(term => normalized.includes(term))) {
      return CATEGORY_ICONS[key]
    }
  }

  return CATEGORY_ICONS.default
}

export const getCategoryColor = (categoryName = '') => {
  const normalized = categoryName.toLowerCase()

  const colors = {
    demolition: 'bg-red-200/70 text-red-800 border-red-400',
    groundworks: 'bg-amber-200/70 text-amber-900 border-amber-400',
    structural: 'bg-slate-200/70 text-slate-800 border-slate-400',
    external: 'bg-stone-200/70 text-stone-800 border-stone-400',
    roofing: 'bg-teal-200/70 text-teal-800 border-teal-400',
    joinery: 'bg-orange-200/70 text-orange-800 border-orange-400',
    internal: 'bg-purple-200/70 text-purple-800 border-purple-400',
    carpentry: 'bg-yellow-700/70 text-yellow-900 border-yellow-600',
    plumbing: 'bg-blue-200/70 text-blue-800 border-blue-400',
    electrical: 'bg-yellow-200/70 text-yellow-800 border-yellow-400',
    mechanical: 'bg-cyan-200/70 text-cyan-800 border-cyan-400',
    plastering: 'bg-amber-100/70 text-amber-800 border-amber-300',
    flooring: 'bg-neutral-300/70 text-neutral-900 border-neutral-500',
    finishing: 'bg-emerald-200/70 text-emerald-800 border-emerald-400',
    specialist: 'bg-pink-200/70 text-pink-800 border-pink-400'
  }

  const keywords = {
    demolition: ['demolition', 'clearance'],
    groundworks: ['groundworks', 'foundations'],
    structural: ['structural', 'steel'],
    external: ['external', 'cladding'],
    roofing: ['roofing', 'roof', 'loft'],
    joinery: ['joinery', 'doors'],
    internal: ['internal', 'partitions'],
    carpentry: ['carpentry', 'timber'],
    plumbing: ['plumbing', 'drainage'],
    electrical: ['electrical', 'lighting'],
    mechanical: ['mechanical', 'hvac'],
    plastering: ['plastering', 'drylining'],
    flooring: ['flooring', 'floor'],
    finishing: ['finishing', 'paint'],
    specialist: ['specialist', 'fire']
  }

  for (const [key, terms] of Object.entries(keywords)) {
    if (terms.some(term => normalized.includes(term))) {
      return colors[key]
    }
  }

  return 'bg-slate-200/70 text-slate-800 border-slate-400'
}